[gd_scene format=3 uid="uid://dwya4ldrsmp4o"]

[ext_resource type="Script" uid="uid://bk7d6j88oh40d" path="res://Scripts/GlobalStateManager.cs" id="1_ttxff"]
[ext_resource type="PackedScene" uid="uid://clf0d5od1cdh1" path="res://scenes/world.tscn" id="2_wgnoa"]
[ext_resource type="Texture2D" uid="uid://cbdlt1fn6sce5" path="res://assets/Juuson Mask Jutut/Circle.png" id="3_16jof"]
[ext_resource type="Script" uid="uid://dckuoy7shumxo" path="res://assets/Juuson Mask Jutut/MineMask.cs" id="4_6y3yn"]
[ext_resource type="Material" uid="uid://b0qw3cofrat17" path="res://assets/Juuson Mask Jutut/BoxMaskMaterial.tres" id="5_3aahy"]
[ext_resource type="Texture2D" uid="uid://cn3ock8an6at3" path="res://assets/laatikko.png" id="6_ogwds"]
[ext_resource type="Script" uid="uid://vshet36c6n2y" path="res://assets/Juuson Mask Jutut/MaskSystem.cs" id="7_jtrrf"]

[node name="World" type="Node2D" unique_id=1486223025]
script = ExtResource("1_ttxff")

[node name="World" parent="." unique_id=577538569 instance=ExtResource("2_wgnoa")]

[node name="Visible Circle" type="Sprite2D" parent="." unique_id=561018750]
modulate = Color(1, 0.895, 0.7, 0.23137255)
visibility_layer = 2
position = Vector2(472, 140)
scale = Vector2(0.2, 0.2)
texture = ExtResource("3_16jof")
script = ExtResource("4_6y3yn")

[node name="Box" type="Sprite2D" parent="." unique_id=1141399737]
material = ExtResource("5_3aahy")
position = Vector2(453, 149)
texture = ExtResource("6_ogwds")

[node name="Box2" type="Sprite2D" parent="." unique_id=2071361114]
visibility_layer = 3
material = ExtResource("5_3aahy")
position = Vector2(237, 45)
texture = ExtResource("6_ogwds")

[node name="MaskSystem" type="Node" parent="." unique_id=1425651829 node_paths=PackedStringArray("MaskViewport", "MaskCircleInViewport", "PlayerCircle", "MaskCamera")]
script = ExtResource("7_jtrrf")
MaskViewport = NodePath("SubViewport")
MaskCircleInViewport = NodePath("SubViewport/Node2D/Mask Circle")
PlayerCircle = NodePath("../Visible Circle")
BoxesMaterial = ExtResource("5_3aahy")
MaskCamera = NodePath("../Camera2D")

[node name="SubViewport" type="SubViewport" parent="MaskSystem" unique_id=11739356]
transparent_bg = true
size = Vector2i(1280, 720)
render_target_update_mode = 4

[node name="Node2D" type="Node2D" parent="MaskSystem/SubViewport" unique_id=719553138]

[node name="Mask Circle" type="Sprite2D" parent="MaskSystem/SubViewport/Node2D" unique_id=751409629]
texture = ExtResource("3_16jof")

[node name="Camera2D" type="Camera2D" parent="." unique_id=539428200]
